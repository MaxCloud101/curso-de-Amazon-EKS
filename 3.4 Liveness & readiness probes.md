# Liveness & readiness probes

Kubelet utiliza los readiness probes para saber cuándo un contenedor está listo para comenzar a aceptar tráfico. Un Pod se considera listo cuando todos sus contenedores están listos. Un uso de esta señal es controlar qué Pods se utilizan como backends para los Servicios. Cuando un Pod no está listo, se elimina de los balanceadores de carga del servicio.

Kubelet utiliza lieveness probes para saber cuándo reiniciar un contenedor. Por ejemplo, los readiness probe podrían detectar un punto muerto en el que una aplicación se está ejecutando pero no puede avanzar. Reiniciar un contenedor en ese estado puede ayudar a que la aplicación esté más disponible a pesar de los errores.

deployment-probes.yaml

```
apiVersion: apps/v1
kind: Deployment
metadata:
  name: my-deployment
  labels:
      app: my-deployment
spec:
  replicas: 1
  selector:
    matchLabels:
      app: my-pod
  template: 
    metadata:
      labels: 
        app: my-pod         
    spec:
      containers:
        - name: nginx-container
          image: nginx
          ports:
            - containerPort: 80
          readinessProbe:
            httpGet:
                path: /
                port: 80
            initialDelaySeconds: 5
            periodSeconds: 20
          livenessProbe:
            httpGet:
                  path: /
                  port: 80
            initialDelaySeconds: 5
            periodSeconds: 20
```
```
kubectl create -f deployment-probes.yaml
```
